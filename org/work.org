* Tasks

** TODO Update Bill Index Performance Spreadsheet
   SCHEDULED: <2019-08-07 Wed +1d>
   :PROPERTIES:
   :LAST_REPEAT: [2019-08-06 Tue 09:13]
   :END:
   - State "DONE"       from "TODO"       [2019-08-06 Tue 09:13]
** TODO Weekly Health Check
   SCHEDULED: <2019-08-08 Thu +1w>


*  Billing Index Performance Improvements
  :PROPERTIES:
  :issue:  https://github.com/clio/projects/issues/254
  :END:

** REVIEW INVOICE-515 Backfill voidable field in Bills
   :PROPERTIES:
   :ticket:       https://themis.atlassian.net/browse/INVOICE-515
   :pull-request: https://github.com/clio/themis/pull/31996
   :END:
   
   I initially implemented this, then Greg took over for a while after
   I discovered bugs with his maintenance task frame work but now I'm
   back in charge for the review tweak phase

   - [X] First round of Tyler's feedback
   - [X] Second round of Tyler's feedback
     
   At this point we realized that we can't make the column NOT NULL if
   interest bills have a null value for voidable so I spoke with Ivy
   and we decided that it should be false.
   
   - [X] Add interest bill handling to the backfill

*** DONE INVOICE-515 Add interest bills to voidable 
   :PROPERTIES:
   :ticket:       https://themis.atlassian.net/browse/INVOICE-515
   :pull-request: https://github.com/clio/themis/pull/32160
   :END:
   

** ASSIGNED INVOICE-516 Use the saved voidable field when doing bill.voidable?
   :PROPERTIES:
   :ticket:       https://themis.atlassian.net/browse/INVOICE-516
   :pull-request: 
   :END:
   
** ASSIGNED INVOICE-517 Determine if there are still bills that have a NULL value for voidable
   :PROPERTIES:
   :ticket:       https://themis.atlassian.net/browse/INVOICE-517
   :pull-request: 
   :END:
   
** ASSIGNED INVOICE-518 UPDATE the voidable column to be NOT NULL
   :PROPERTIES:
   :ticket:       https://themis.atlassian.net/browse/INVOICE-518
   :pull-request: 
   :END:
   
** ASSIGNED INVOICE-539 Clean up the disable rollout invoice_384_voidable
   :PROPERTIES:
   :ticket:       https://themis.atlassian.net/browse/INVOICE-539
   :pull-request: 
   :END:
   
** TODO Weekly Invoicing Performance Update
   SCHEDULED: <2019-08-09 Fri ++1w>
   :PROPERTIES:
   :LAST_REPEAT: [2019-08-02 Fri 15:26]
   :END:

   - State "DONE"       from "TODO"       [2019-08-02 Fri 15:26]
** DONE Clear up Jira

** Figure out what to do with this crap
  https://themis.atlassian.net/browse/INVOICE-92
  https://themis.atlassian.net/browse/INVOICE-143
  

* Canadian region for Manage
  :PROPERTIES:
  :issue: https://github.com/clio/projects/issues/200
  :END:

** IMPLEMENTING PRODCA-112 (Webhooks not running)
   :PROPERTIES:
   :ticket:       https://themis.atlassian.net/browse/PRODCA-112
   :pull-request:
   :END:

   - [X] Connect with Matthew King on next steps
   - [X] Set up elasticache/redis for simulation
     - This means setting up a VPC, with a public and private subnet,
       internet gateway, and a nat instance with public IP configured
       to forward requests to an elasticache
     (redis) cluster.
   - [X] Document the above
   - [X] Emulate Sentinels
   - [ ] Create some webhooks and see if it works
   - [X] Determine how/when Sentinel is activated
   - [X] Don't enable Sentinel for ProdCA
   - [X] Come up with test plan
   - [X] Connect with Matthew King on validation and strategy
   - [X] Discern why we use kyle's repo for goworker, and if we can use
         the main repo now, or make an upstream push etc.
   - [X] Tear down AWS infrastructure (it's expensive)
   - [X] Get clarification on my involvement and how far down this rabbit hole
         I should go. Matthew, Remi, Tys, and Luke are resources.
   - [ ] Import goworker into themis, and alter it to work with redis-sentinel
     
   Kyle's goworker repo adds sentinel support. There was an attempt to
   get it added upstream but it was ignored. I devised a solution that
   adds an SSL parameter to the redis config (also added to the
   goworker package by kyle) and uses the new redigo UseTLS option.
   We also need to update which redigo package, and which
   redis-sentinel package we use.
    
** TODO Weekly ProdCA Update
   SCHEDULED: <2019-08-09 Fri ++1w>
   :PROPERTIES:
   :LAST_REPEAT: [2019-08-02 Fri 15:27]
   :END:

   - State "DONE"       from "TODO"       [2019-08-02 Fri 15:27]


* LTR Metrics on Firm Health Dashboard
  :PROPERTIES:
  :issue:  https://github.com/clio/projects/issues/348
  :END:

- Onboarding
    
